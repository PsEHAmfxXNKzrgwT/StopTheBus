{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import{BrowserRouter as Router,Route,Routes,Link}from'react-router-dom';import Settings from'./Settings';import Lobby from'./components/Lobby';import GameBoard from'./components/GameBoard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[gameState,setGameState]=useState({gameId:null,currentRound:1,scores:{},gameStarted:false,categories:['Boy','Girl','Country','Food','Colour','Car','Movie / TV Show'],players:[],currentLetter:null,host:null});const[playerName,setPlayerName]=useState('');const[gameIdInput,setGameIdInput]=useState('');const[answers,setAnswers]=useState({});const[message,setMessage]=useState('');const[darkMode,setDarkMode]=useState(localStorage.getItem('darkMode')==='true');// Theme setup\nuseEffect(()=>{document.documentElement.setAttribute('data-theme',darkMode?'dark':'light');},[darkMode]);const toggleDarkMode=()=>{const newMode=!darkMode;setDarkMode(newMode);localStorage.setItem('darkMode',newMode);};// Poll game state\nuseEffect(()=>{if(!gameState.gameId)return;const interval=setInterval(async()=>{try{const res=await fetch(`http://localhost:6464/get-game?gameId=${gameState.gameId}`);if(res.ok){const data=await res.json();setGameState(prev=>({...prev,players:data.players,gameStarted:data.gameStarted,currentRound:data.currentRound,currentLetter:data.currentLetter,scores:data.scores||prev.scores,host:data.host}));}}catch{}},3000);return()=>clearInterval(interval);},[gameState.gameId]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDE8C Stop the Bus\"}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),\" | \",/*#__PURE__*/_jsx(Link,{to:\"/settings\",children:\"Settings\"})]}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/settings\",element:/*#__PURE__*/_jsx(Settings,{toggleDarkMode:toggleDarkMode,currentMode:darkMode?'dark':'light'})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:!gameState.gameStarted?/*#__PURE__*/_jsx(Lobby,{playerName:playerName,setPlayerName:setPlayerName,gameIdInput:gameIdInput,setGameIdInput:setGameIdInput,setGameState:setGameState,gameState:gameState,setMessage:setMessage}):/*#__PURE__*/_jsx(GameBoard,{gameState:gameState,playerName:playerName,answers:answers,setAnswers:setAnswers,setMessage:setMessage})})]}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"message\",children:message})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","Link","Settings","Lobby","GameBoard","jsx","_jsx","jsxs","_jsxs","App","gameState","setGameState","gameId","currentRound","scores","gameStarted","categories","players","currentLetter","host","playerName","setPlayerName","gameIdInput","setGameIdInput","answers","setAnswers","message","setMessage","darkMode","setDarkMode","localStorage","getItem","document","documentElement","setAttribute","toggleDarkMode","newMode","setItem","interval","setInterval","res","fetch","ok","data","json","prev","clearInterval","children","className","to","path","element","currentMode"],"sources":["/Users/logan/Desktop/STB_1/stop-the-bus/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom';\nimport Settings from './Settings';\nimport Lobby from './components/Lobby';\nimport GameBoard from './components/GameBoard';\n\n\n\n\n\nfunction App() {\n  const [gameState, setGameState] = useState({\n    gameId: null,\n    currentRound: 1,\n    scores: {},\n    gameStarted: false,\n    categories: ['Boy', 'Girl', 'Country', 'Food', 'Colour', 'Car', 'Movie / TV Show'],\n    players: [],\n    currentLetter: null,\n    host: null,\n  });\n\n  const [playerName, setPlayerName] = useState('');\n  const [gameIdInput, setGameIdInput] = useState('');\n  const [answers, setAnswers] = useState({});\n  const [message, setMessage] = useState('');\n  const [darkMode, setDarkMode] = useState(localStorage.getItem('darkMode') === 'true');\n\n  // Theme setup\n  useEffect(() => {\n    document.documentElement.setAttribute('data-theme', darkMode ? 'dark' : 'light');\n  }, [darkMode]);\n\n  const toggleDarkMode = () => {\n    const newMode = !darkMode;\n    setDarkMode(newMode);\n    localStorage.setItem('darkMode', newMode);\n  };\n\n  // Poll game state\n  useEffect(() => {\n    if (!gameState.gameId) return;\n    const interval = setInterval(async () => {\n      try {\n        const res = await fetch(`http://localhost:6464/get-game?gameId=${gameState.gameId}`);\n        if (res.ok) {\n          const data = await res.json();\n          setGameState((prev) => ({\n            ...prev,\n            players: data.players,\n            gameStarted: data.gameStarted,\n            currentRound: data.currentRound,\n            currentLetter: data.currentLetter,\n            scores: data.scores || prev.scores,\n            host: data.host,\n          }));\n        }\n      } catch {}\n    }, 3000);\n    return () => clearInterval(interval);\n  }, [gameState.gameId]);\n\n  return (\n    <Router>\n      <div className=\"app-container\">\n        <h1>ðŸšŒ Stop the Bus</h1>\n        <nav>\n          <Link to=\"/\">Home</Link> | <Link to=\"/settings\">Settings</Link>\n        </nav>\n\n        <Routes>\n          <Route path=\"/settings\" element={\n            <Settings toggleDarkMode={toggleDarkMode} currentMode={darkMode ? 'dark' : 'light'} />\n          } />\n          <Route path=\"/\" element={\n            !gameState.gameStarted ? (\n              <Lobby\n                playerName={playerName}\n                setPlayerName={setPlayerName}\n                gameIdInput={gameIdInput}\n                setGameIdInput={setGameIdInput}\n                setGameState={setGameState}\n                gameState={gameState}\n                setMessage={setMessage}\n              />\n            ) : (\n              <GameBoard\n                gameState={gameState}\n                playerName={playerName}\n                answers={answers}\n                setAnswers={setAnswers}\n                setMessage={setMessage}\n              />\n            )\n          } />\n        </Routes>\n\n        {message && <div className=\"message\">{message}</div>}\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}