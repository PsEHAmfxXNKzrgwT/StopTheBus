{"ast":null,"code":"import React from'react';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Lobby(_ref){let{playerName,setPlayerName,gameIdInput,setGameIdInput,setGameState,gameState,setMessage,handleStartGame,handleStartRound}=_ref;const handleCreateGame=async()=>{if(!playerName)return setMessage(\"‚ùå Please enter a player name.\");try{const res=await fetch('http://localhost:6464/create-game',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({playerName})});const data=await res.json();setGameState(prev=>({...prev,gameId:data.gameId,players:[playerName],host:playerName,gameStarted:false}));setMessage(`‚úÖ Game created! Your game ID is: ${data.gameId}`);}catch{setMessage('‚ùå Error creating game.');}};const handleJoinGame=async()=>{if(!playerName||!gameIdInput){return setMessage(\"‚ùå Please enter a player name and Game ID.\");}try{const res=await fetch('http://localhost:6464/join-game',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({gameId:gameIdInput,playerName})});const data=await res.json();setGameState(prev=>({...prev,gameId:gameIdInput,players:data.gameRoom.players,gameStarted:data.gameRoom.gameStarted,scores:data.gameRoom.scores,host:data.gameRoom.host}));setMessage(`‚úÖ Joined game ${gameIdInput}`);}catch{setMessage(\"‚ùå Couldn't join game.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"lobby-container\",children:[!gameState.gameId&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{value:playerName,onChange:e=>setPlayerName(e.target.value),placeholder:\"Your name\"}),/*#__PURE__*/_jsx(\"input\",{value:gameIdInput,onChange:e=>setGameIdInput(e.target.value),placeholder:\"Game ID to join\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleJoinGame,children:\"\\uD83C\\uDFAE Join\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateGame,children:\"\\uD83D\\uDE80 Create\"})]}),gameState.gameId&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDC65 Players List\"}),/*#__PURE__*/_jsx(\"ul\",{children:gameState.players.map((player,i)=>/*#__PURE__*/_jsx(\"li\",{children:player},i))}),gameState.host===playerName&&/*#__PURE__*/_jsx(\"button\",{onClick:handleStartGame,children:\"\\u25B6\\uFE0F Start Game\"})]})]});}export default Lobby;","map":{"version":3,"names":["React","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Lobby","_ref","playerName","setPlayerName","gameIdInput","setGameIdInput","setGameState","gameState","setMessage","handleStartGame","handleStartRound","handleCreateGame","res","fetch","method","headers","body","JSON","stringify","data","json","prev","gameId","players","host","gameStarted","handleJoinGame","gameRoom","scores","className","children","value","onChange","e","target","placeholder","onClick","map","player","i"],"sources":["/Users/logan/Desktop/STB_1/stop-the-bus/frontend/src/components/Lobby.js"],"sourcesContent":["import React from 'react';\n\nfunction Lobby({\n  playerName,\n  setPlayerName,\n  gameIdInput,\n  setGameIdInput,\n  setGameState,\n  gameState,\n  setMessage,\n  handleStartGame,\n  handleStartRound,\n}) {\n  const handleCreateGame = async () => {\n    if (!playerName) return setMessage(\"‚ùå Please enter a player name.\");\n    try {\n      const res = await fetch('http://localhost:6464/create-game', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ playerName }),\n      });\n      const data = await res.json();\n      setGameState((prev) => ({\n        ...prev,\n        gameId: data.gameId,\n        players: [playerName],\n        host: playerName,\n        gameStarted: false,\n      }));\n      setMessage(`‚úÖ Game created! Your game ID is: ${data.gameId}`);\n    } catch {\n      setMessage('‚ùå Error creating game.');\n    }\n  };\n\n  const handleJoinGame = async () => {\n    if (!playerName || !gameIdInput) {\n      return setMessage(\"‚ùå Please enter a player name and Game ID.\");\n    }\n\n    try {\n      const res = await fetch('http://localhost:6464/join-game', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ gameId: gameIdInput, playerName }),\n      });\n      const data = await res.json();\n      setGameState((prev) => ({\n        ...prev,\n        gameId: gameIdInput,\n        players: data.gameRoom.players,\n        gameStarted: data.gameRoom.gameStarted,\n        scores: data.gameRoom.scores,\n        host: data.gameRoom.host,\n      }));\n      setMessage(`‚úÖ Joined game ${gameIdInput}`);\n    } catch {\n      setMessage(\"‚ùå Couldn't join game.\");\n    }\n  };\n\n  return (\n    <div className=\"lobby-container\">\n      {!gameState.gameId && (\n        <>\n          <input\n            value={playerName}\n            onChange={(e) => setPlayerName(e.target.value)}\n            placeholder=\"Your name\"\n          />\n          <input\n            value={gameIdInput}\n            onChange={(e) => setGameIdInput(e.target.value)}\n            placeholder=\"Game ID to join\"\n          />\n          <button onClick={handleJoinGame}>üéÆ Join</button>\n          <button onClick={handleCreateGame}>üöÄ Create</button>\n        </>\n      )}\n\n      {gameState.gameId && (\n        <>\n          <h3>üë• Players List</h3>\n          <ul>\n            {gameState.players.map((player, i) => (\n              <li key={i}>{player}</li>\n            ))}\n          </ul>\n\n          {gameState.host === playerName && (\n            <button onClick={handleStartGame}>‚ñ∂Ô∏è Start Game</button>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default Lobby;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}