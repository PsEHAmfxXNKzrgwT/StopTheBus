{"ast":null,"code":"import React from'react';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Lobby(_ref){let{playerName,setPlayerName,gameIdInput,setGameIdInput,setGameState,gameState,setMessage}=_ref;const handleCreateGame=async()=>{if(!playerName)return setMessage(\"‚ùå Please enter a player name.\");try{const res=await fetch('http://localhost:6464/create-game',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({playerName})});const data=await res.json();setGameState(prev=>({...prev,gameId:data.gameId,players:[playerName],host:playerName,gameStarted:false}));setMessage(`‚úÖ Game created! Your game ID is: ${data.gameId}`);}catch{setMessage('‚ùå Error creating game.');}};const handleJoinGame=async()=>{if(!playerName||!gameIdInput){return setMessage(\"‚ùå Please enter a player name and Game ID.\");}try{const res=await fetch('http://localhost:6464/join-game',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({gameId:gameIdInput,playerName})});const data=await res.json();setGameState(prev=>({...prev,gameId:gameIdInput,players:data.gameRoom.players,gameStarted:data.gameRoom.gameStarted,scores:data.gameRoom.scores,host:data.gameRoom.host}));setMessage(`‚úÖ Joined game ${gameIdInput}`);}catch{setMessage(\"‚ùå Couldn't join game.\");}};const handleStartGame=async()=>{if(!gameState.gameId)return setMessage(\"‚ùå No game to start.\");try{const res=await fetch('http://localhost:6464/start-game',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({gameId:gameState.gameId})});if(res.ok){setGameState(prev=>({...prev,gameStarted:true,currentRound:1}));setMessage(\"üéÆ Game started!\");}else{const text=await res.text();setMessage(\"‚ùå \"+text);}}catch{setMessage('‚ùå Error starting game.');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[!gameState.gameId&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{value:playerName,onChange:e=>setPlayerName(e.target.value),placeholder:\"Your name\"}),/*#__PURE__*/_jsx(\"input\",{value:gameIdInput,onChange:e=>setGameIdInput(e.target.value),placeholder:\"Game ID to join\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleJoinGame,children:\"\\uD83C\\uDFAE Join\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateGame,children:\"\\uD83D\\uDE80 Create\"})]}),gameState.gameId&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDC65 Players List\"}),/*#__PURE__*/_jsx(\"ul\",{children:gameState.players.map((player,i)=>/*#__PURE__*/_jsx(\"li\",{children:player},i))}),gameState.host===playerName&&/*#__PURE__*/_jsx(\"button\",{onClick:handleStartGame,children:\"\\u25B6\\uFE0F Start Game\"})]})]});}export default Lobby;","map":{"version":3,"names":["React","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Lobby","_ref","playerName","setPlayerName","gameIdInput","setGameIdInput","setGameState","gameState","setMessage","handleCreateGame","res","fetch","method","headers","body","JSON","stringify","data","json","prev","gameId","players","host","gameStarted","handleJoinGame","gameRoom","scores","handleStartGame","ok","currentRound","text","children","value","onChange","e","target","placeholder","onClick","map","player","i"],"sources":["/Users/logan/Desktop/STB_1/stop-the-bus/frontend/src/components/Lobby.js"],"sourcesContent":["import React from 'react';\n\nfunction Lobby({\n  playerName,\n  setPlayerName,\n  gameIdInput,\n  setGameIdInput,\n  setGameState,\n  gameState,\n  setMessage,\n}) {\n  const handleCreateGame = async () => {\n    if (!playerName) return setMessage(\"‚ùå Please enter a player name.\");\n    try {\n      const res = await fetch('http://localhost:6464/create-game', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ playerName }),\n      });\n      const data = await res.json();\n      setGameState((prev) => ({\n        ...prev,\n        gameId: data.gameId,\n        players: [playerName],\n        host: playerName,\n        gameStarted: false,\n      }));\n      setMessage(`‚úÖ Game created! Your game ID is: ${data.gameId}`);\n    } catch {\n      setMessage('‚ùå Error creating game.');\n    }\n  };\n\n  const handleJoinGame = async () => {\n    if (!playerName || !gameIdInput) {\n      return setMessage(\"‚ùå Please enter a player name and Game ID.\");\n    }\n\n    try {\n      const res = await fetch('http://localhost:6464/join-game', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ gameId: gameIdInput, playerName }),\n      });\n      const data = await res.json();\n      setGameState((prev) => ({\n        ...prev,\n        gameId: gameIdInput,\n        players: data.gameRoom.players,\n        gameStarted: data.gameRoom.gameStarted,\n        scores: data.gameRoom.scores,\n        host: data.gameRoom.host,\n      }));\n      setMessage(`‚úÖ Joined game ${gameIdInput}`);\n    } catch {\n      setMessage(\"‚ùå Couldn't join game.\");\n    }\n  };\n\n  const handleStartGame = async () => {\n    if (!gameState.gameId) return setMessage(\"‚ùå No game to start.\");\n    try {\n      const res = await fetch('http://localhost:6464/start-game', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ gameId: gameState.gameId }),\n      });\n      if (res.ok) {\n        setGameState((prev) => ({ ...prev, gameStarted: true, currentRound: 1 }));\n        setMessage(\"üéÆ Game started!\");\n      } else {\n        const text = await res.text();\n        setMessage(\"‚ùå \" + text);\n      }\n    } catch {\n      setMessage('‚ùå Error starting game.');\n    }\n  };\n\n  return (\n    <>\n      {!gameState.gameId && (\n        <>\n          <input value={playerName} onChange={(e) => setPlayerName(e.target.value)} placeholder=\"Your name\" />\n          <input value={gameIdInput} onChange={(e) => setGameIdInput(e.target.value)} placeholder=\"Game ID to join\" />\n          <button onClick={handleJoinGame}>üéÆ Join</button>\n          <button onClick={handleCreateGame}>üöÄ Create</button>\n        </>\n      )}\n\n      {gameState.gameId && (\n        <>\n          <h3>üë• Players List</h3>\n          <ul>\n            {gameState.players.map((player, i) => (\n              <li key={i}>{player}</li>\n            ))}\n          </ul>\n          {gameState.host === playerName && (\n            <button onClick={handleStartGame}>‚ñ∂Ô∏è Start Game</button>\n          )}\n        </>\n      )}\n    </>\n  );\n}\n\nexport default Lobby;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,KAAKA,CAAAC,IAAA,CAQX,IARY,CACbC,UAAU,CACVC,aAAa,CACbC,WAAW,CACXC,cAAc,CACdC,YAAY,CACZC,SAAS,CACTC,UACF,CAAC,CAAAP,IAAA,CACC,KAAM,CAAAQ,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CAACP,UAAU,CAAE,MAAO,CAAAM,UAAU,CAAC,+BAA+B,CAAC,CACnE,GAAI,CACF,KAAM,CAAAE,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,mCAAmC,CAAE,CAC3DC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEd,UAAW,CAAC,CACrC,CAAC,CAAC,CACF,KAAM,CAAAe,IAAI,CAAG,KAAM,CAAAP,GAAG,CAACQ,IAAI,CAAC,CAAC,CAC7BZ,YAAY,CAAEa,IAAI,GAAM,CACtB,GAAGA,IAAI,CACPC,MAAM,CAAEH,IAAI,CAACG,MAAM,CACnBC,OAAO,CAAE,CAACnB,UAAU,CAAC,CACrBoB,IAAI,CAAEpB,UAAU,CAChBqB,WAAW,CAAE,KACf,CAAC,CAAC,CAAC,CACHf,UAAU,CAAC,oCAAoCS,IAAI,CAACG,MAAM,EAAE,CAAC,CAC/D,CAAE,KAAM,CACNZ,UAAU,CAAC,wBAAwB,CAAC,CACtC,CACF,CAAC,CAED,KAAM,CAAAgB,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CAACtB,UAAU,EAAI,CAACE,WAAW,CAAE,CAC/B,MAAO,CAAAI,UAAU,CAAC,2CAA2C,CAAC,CAChE,CAEA,GAAI,CACF,KAAM,CAAAE,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,iCAAiC,CAAE,CACzDC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEI,MAAM,CAAEhB,WAAW,CAAEF,UAAW,CAAC,CAC1D,CAAC,CAAC,CACF,KAAM,CAAAe,IAAI,CAAG,KAAM,CAAAP,GAAG,CAACQ,IAAI,CAAC,CAAC,CAC7BZ,YAAY,CAAEa,IAAI,GAAM,CACtB,GAAGA,IAAI,CACPC,MAAM,CAAEhB,WAAW,CACnBiB,OAAO,CAAEJ,IAAI,CAACQ,QAAQ,CAACJ,OAAO,CAC9BE,WAAW,CAAEN,IAAI,CAACQ,QAAQ,CAACF,WAAW,CACtCG,MAAM,CAAET,IAAI,CAACQ,QAAQ,CAACC,MAAM,CAC5BJ,IAAI,CAAEL,IAAI,CAACQ,QAAQ,CAACH,IACtB,CAAC,CAAC,CAAC,CACHd,UAAU,CAAC,iBAAiBJ,WAAW,EAAE,CAAC,CAC5C,CAAE,KAAM,CACNI,UAAU,CAAC,uBAAuB,CAAC,CACrC,CACF,CAAC,CAED,KAAM,CAAAmB,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CAACpB,SAAS,CAACa,MAAM,CAAE,MAAO,CAAAZ,UAAU,CAAC,qBAAqB,CAAC,CAC/D,GAAI,CACF,KAAM,CAAAE,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,kCAAkC,CAAE,CAC1DC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEI,MAAM,CAAEb,SAAS,CAACa,MAAO,CAAC,CACnD,CAAC,CAAC,CACF,GAAIV,GAAG,CAACkB,EAAE,CAAE,CACVtB,YAAY,CAAEa,IAAI,GAAM,CAAE,GAAGA,IAAI,CAAEI,WAAW,CAAE,IAAI,CAAEM,YAAY,CAAE,CAAE,CAAC,CAAC,CAAC,CACzErB,UAAU,CAAC,kBAAkB,CAAC,CAChC,CAAC,IAAM,CACL,KAAM,CAAAsB,IAAI,CAAG,KAAM,CAAApB,GAAG,CAACoB,IAAI,CAAC,CAAC,CAC7BtB,UAAU,CAAC,IAAI,CAAGsB,IAAI,CAAC,CACzB,CACF,CAAE,KAAM,CACNtB,UAAU,CAAC,wBAAwB,CAAC,CACtC,CACF,CAAC,CAED,mBACET,KAAA,CAAAF,SAAA,EAAAkC,QAAA,EACG,CAACxB,SAAS,CAACa,MAAM,eAChBrB,KAAA,CAAAF,SAAA,EAAAkC,QAAA,eACEpC,IAAA,UAAOqC,KAAK,CAAE9B,UAAW,CAAC+B,QAAQ,CAAGC,CAAC,EAAK/B,aAAa,CAAC+B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAACI,WAAW,CAAC,WAAW,CAAE,CAAC,cACpGzC,IAAA,UAAOqC,KAAK,CAAE5B,WAAY,CAAC6B,QAAQ,CAAGC,CAAC,EAAK7B,cAAc,CAAC6B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAACI,WAAW,CAAC,iBAAiB,CAAE,CAAC,cAC5GzC,IAAA,WAAQ0C,OAAO,CAAEb,cAAe,CAAAO,QAAA,CAAC,mBAAO,CAAQ,CAAC,cACjDpC,IAAA,WAAQ0C,OAAO,CAAE5B,gBAAiB,CAAAsB,QAAA,CAAC,qBAAS,CAAQ,CAAC,EACrD,CACH,CAEAxB,SAAS,CAACa,MAAM,eACfrB,KAAA,CAAAF,SAAA,EAAAkC,QAAA,eACEpC,IAAA,OAAAoC,QAAA,CAAI,2BAAe,CAAI,CAAC,cACxBpC,IAAA,OAAAoC,QAAA,CACGxB,SAAS,CAACc,OAAO,CAACiB,GAAG,CAAC,CAACC,MAAM,CAAEC,CAAC,gBAC/B7C,IAAA,OAAAoC,QAAA,CAAaQ,MAAM,EAAVC,CAAe,CACzB,CAAC,CACA,CAAC,CACJjC,SAAS,CAACe,IAAI,GAAKpB,UAAU,eAC5BP,IAAA,WAAQ0C,OAAO,CAAEV,eAAgB,CAAAI,QAAA,CAAC,yBAAa,CAAQ,CACxD,EACD,CACH,EACD,CAAC,CAEP,CAEA,cAAe,CAAA/B,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}